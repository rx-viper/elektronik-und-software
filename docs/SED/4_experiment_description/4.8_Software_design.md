 
## 4.8 Software design
 
### 4.8.1 Purpose
We use a Raspberry Pi to handle the camera data and a powerful
microcontroller for data acquisition of temperature, pressure, force/distance
sensors and experiment control.
We have to implement the heat probe (un)locking, power management, data
acquisition and battery temperature observation.
All data shall be saved locally. Furthermore, all data except the camera data
shall be sent to ground station via RXSM.

The ground station shall store the data and visualize the following:
* Temperature distribution inside the ice cylinders
* Pressure in the experiment chamber
* Move distance and force of heat probes


### 4.8.2 Design
a) Block diagram: see appendix
b) The data shall be stored locally on flash storage and be transmitted to
ground station.
c) We want to use SPI and I2C for data transmission to microcontroller, the
camera is connected to the Raspberry Pi via CSI.
d) We gather data of ca. 30 temperature sensors, 3 pressure sensors, 3
distance sensors, 3 force sensors and some data from current and
voltage measurements.
The data shall be stored locally on flash storage and sent to ground
station via RXSM.
All commands shall be logged.
e) Software flow chart: see appendix


### 4.8.3 Implementation
a) Raspberry Pi: We want to use a custom and stable lightweight Linux,
based on Raspbian.
b) Microcontroller: We want to use a STM32 (see electronics). For
development, we want to use the XPCC framework.
c) Groundstation: We want to use C++ with QT library.
